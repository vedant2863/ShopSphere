{% extends 'layout/layout.html' %}

{% block title %}Order Summary{% endblock %}

{% block content %}
<div class="container mx-auto p-6">
    <h1 class="text-3xl font-semibold mb-4 text-center">Order Summary</h1>

    <div class="mb-6">
        <p><strong class="font-semibold">Order ID:</strong> {{ order.id }}</p>
        <p><strong class="font-semibold">Status:</strong> {{ order.status }}</p>
        <p><strong class="font-semibold">Total Cost:</strong> ${{ order.total_cost }}</p>
        <p><strong class="font-semibold">Created At:</strong> {{ order.created_at }}</p>
    </div>

    <h2 class="text-2xl font-semibold mb-4">Order Items</h2>
    <table class="min-w-full table-auto border-collapse border border-gray-300">
        <thead>
            <tr class="bg-gray-100">
                <th class="px-4 py-2 text-left">Product</th>
                <th class="px-4 py-2 text-left">Quantity</th>
                <th class="px-4 py-2 text-left">Price</th>
                <th class="px-4 py-2 text-left">Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items.all %}
            <tr class="border-t">
                <td class="px-4 py-2">{{ item.product.name }}</td>
                <td class="px-4 py-2">{{ item.quantity }}</td>
                <td class="px-4 py-2">${{ item.price }}</td>
                <td class="px-4 py-2">${{ item.total_price }}</td> <!-- Use the calculated total price here -->
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="text-2xl font-semibold mt-8 mb-4">Payment Details</h2>
    <div class="space-y-2">
        <p><strong class="font-semibold">Payment Method:</strong> Credit Card</p>
        <p><strong class="font-semibold">Card Number:</strong> XXXX-XXXX-XXXX-1234</p>
        <p><strong class="font-semibold">Expiration Date:</strong> MM/YY</p>
        <p><strong class="font-semibold">CVV:</strong> XXX</p>
    </div>
</div>
{% endblock %}